# Markdown-it DigitalOcean Community Plugin (Unofficial)
> Unofficial Markdown-it plugin, to apply the same rules and Markdown conversion features as [the Markdown Preview Tool](https://www.digitalocean.com/community/markdown).

## Known Issues
Certain rules from other plugins can conflict with the rules contained within this pack. Furthermore, there is no way for me to predict which ones are going to conflict, nor can I audit them all manually, given the number of 3rd party plugins and rules for Markdown-it.

An example of a conflict is [the `math-inline` rule provided by the Markdown All in One VSCode extension](https://github.com/yzhang-gh/vscode-markdown/blob/f560819acc2175691dd5d5d809e3329c50d18039/syntaxes/math_inline.markdown.tmLanguage.json) - it conflicts with DO's variable highlighting rule.

## Development
### Coverage
Coverage reports are generated by NYC / Istanbul. Use `test` to test with coverage, or `test:nocov` to test without it.
### Tests
The *expected* value for each render test is whatever [the official DigitalOcean Markdown preview tool](https://www.digitalocean.com/community/markdown) spits out (or, more specifically, whatever [the API](https://www.digitalocean.com/community/markdown/preview) returns)

- Per rule tests
	- Isolated rule tests are in [`rules.spec.ts`](__tests__/rules.spec.ts), and (try) to test each rule without consideration of the others
	- To make the strings easier to paste into JavaScript / TypeScript, I used [this CyberChef rule](https://gchq.github.io/CyberChef/#recipe=Find_/_Replace(%7B'option':'Regex','string':'%5C%5Cn'%7D,'%5C%5C%5C%5Cn',true,false,true,false)Find_/_Replace(%7B'option':'Regex','string':'%5C''%7D,'%22',true,false,true,false)Find_/_Replace(%7B'option':'Regex','string':'%5E%7C$'%7D,'%5C'',true,false,true,false)), and some manual escaping when applicable.
- Plugin tests
	- Plugin tests use text fixtures to make large tests easier to add
	- Test fixtures follow the pattern of `{name}-input.md` for the test input, and `{name}-expected.txt` for the expected (*rendered*) value generated by Markdown-it, when the plugin is used.